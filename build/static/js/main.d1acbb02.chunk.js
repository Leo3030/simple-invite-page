(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{10:function(e,n,t){e.exports={footerWrapper:"footer_footerWrapper__3DIrt",contentWrapper:"footer_contentWrapper__2Xskt",footerText:"footer_footerText__3LjTW"}},11:function(e,n,t){e.exports={inputWrapper:"input_inputWrapper__2ol3E",input:"input_input__23px8",error:"input_error__3hyp6",errorMsg:"input_errorMsg__2UMVn"}},14:function(e,n,t){e.exports={headerWrapper:"header_headerWrapper__359Y1",title:"header_title__26aWM"}},15:function(e,n,t){e.exports={buttonWrapper:"button_buttonWrapper__1_zgu",disabled:"button_disabled__tf0DT"}},3:function(e,n,t){e.exports={invitationPopupContentWrapper:"invitation-popup-content_invitationPopupContentWrapper__FJom0",modalTitle:"invitation-popup-content_modalTitle__3fAEh",summary:"invitation-popup-content_summary__3I4-W",form:"invitation-popup-content_form__1PHAp",btn:"invitation-popup-content_btn__2wh85",errorMessage:"invitation-popup-content_errorMessage__pbyvx",successContentWrapper:"invitation-popup-content_successContentWrapper__2hUPd"}},30:function(e,n,t){},31:function(e,n,t){},51:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),o=t(24),i=t.n(o),c=(t(30),t(31),t(14)),s=t.n(c),l=t(0);var p=function(){return Object(l.jsx)("div",{className:s.a.headerWrapper,"jest-id":"header",children:Object(l.jsx)("h3",{className:s.a.title,children:"Broccoli & Co."})})},d=t(4),u=t.n(d),j=t(10),m=t.n(j);var _=function(){return Object(l.jsx)("div",{className:m.a.footerWrapper,"jest-id":"footer",children:Object(l.jsxs)("div",{className:m.a.contentWrapper,children:[Object(l.jsx)("p",{className:u()(m.a.footerText),children:"Made with \u2764\ufe0f in Melbourne"}),Object(l.jsx)("p",{className:m.a.footerText,children:"\xa9 2021 Broccoli & Co. All rights reserved"})]})})},b=t(5),v=t(7),f=t.n(v),h=t(9),O=t(12),x=t(15),N=t.n(x),g=t(6),C=t.n(g);var W=function(e){return e.className,Object(l.jsx)("div",{className:C.a.root,children:Object(l.jsxs)("div",{className:C.a.loadingWrapper,children:[Object(l.jsx)("div",{className:C.a.loadingContent}),Object(l.jsx)("div",{className:u()(C.a.loadingContent,C.a.loadingContent2)}),Object(l.jsx)("div",{className:u()(C.a.loadingContent,C.a.loadingContent3)})]})})};var S=function(e){var n=e.children,t=e.className,a=e.loading,r=void 0!==a&&a,o=e.disabled,i=void 0!==o&&o,c=Object(O.a)(e,["children","className","loading","disabled"]);return Object(l.jsxs)("button",Object(h.a)(Object(h.a)({className:u()(N.a.buttonWrapper,(r||i)&&N.a.disabled,t)},c),{},{children:[!r&&n,r&&Object(l.jsx)(W,{})]}))},M=t(8),E=t.n(M);var y=function(e){var n=e.children,t=e.onClose,r=e.hasMask,o=void 0===r||r,i=e.actived,c=void 0!==i&&i,s=a.useState(c),p=Object(b.a)(s,2),d=p[0],j=p[1],m=a.useRef();return a.useEffect((function(){j(c),!c&&t&&t()}),[c]),Object(l.jsxs)("div",{className:u()(E.a.modalWrapper,d&&E.a.actived),onClick:function(e){m.current.contains(e.target)||(t&&t(),j(!1))},children:[o&&Object(l.jsx)("div",{className:E.a.modalMask,"jest-id":"modal-mask"}),Object(l.jsx)("div",{className:E.a.contentWrapper,children:Object(l.jsx)("div",{className:E.a.content,ref:m,children:n})})]})},w=t(3),k=t.n(w),I=t(25),T=t.n(I),B=t(11),F=t.n(B);var J=function(e){var n=e.className,t=e.name,a=e.value,r=e.onBlur,o=e.onChange,i=e.errorMsg,c=Object(O.a)(e,["className","name","value","onBlur","onChange","errorMsg"]);return Object(l.jsxs)("div",{className:F.a.inputWrapper,children:[Object(l.jsx)("input",Object(h.a)({className:u()(F.a.input,n,i&&F.a.error),onBlur:function(){r&&r(t)},onChange:function(e){o&&o(e.target.value)},value:a},c)),i&&Object(l.jsx)("p",{className:F.a.errorMsg,children:i})]})},A={name:{value:"",error:"",label:"Full name"},email:{value:"",error:"",label:"Email"},confirmEmail:{value:"",error:"",label:"Confirm Email"}},R=["name","email","confirmEmail"];var P=function(e){var n=e.onSuccess,t=e.isModalOpen,r=Object(a.useState)(A),o=Object(b.a)(r,2),i=o[0],c=o[1],s=Object(a.useState)(!1),p=Object(b.a)(s,2),d=p[0],u=p[1],j=Object(a.useState)(!1),m=Object(b.a)(j,2),_=m[0],v=m[1];Object(a.useEffect)((function(){var e=function(e){e||c(A)};return e(t),function(){e()}}),[t]);var f=function(e){var n=i[e].value,t="";switch(e){case"name":t=n.trim().length<=3?"Full name needs to be at least 3 characters long":"";break;case"email":t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n.trim().toLowerCase())?"":"Email needs to be in validation email format";break;case"confirmEmail":n?n!==i.email.value&&(t="Confirm Email needs to match Email"):t="Please input confirm email"}return t},h=function(e){var n=f(e);if(n){var t=JSON.parse(JSON.stringify(i));t[e].error=n,c(t)}};return Object(l.jsxs)("div",{className:k.a.inviteFormWrapper,"jest-id":"invite-form",children:[Object(l.jsx)("h4",{className:k.a.modalTitle,children:"Request an invite"}),Object(l.jsxs)("form",{className:k.a.form,children:[R.map((function(e){return Object(l.jsx)(J,{type:"input",name:e,onBlur:h,errorMsg:i[e].error,onChange:function(n){!function(e,n){var t=JSON.parse(JSON.stringify(i));t[e].value=n,t[e].error="",c(t)}(e,n)},placeholder:i[e].label,value:i[e].value},e)})),Object(l.jsx)(S,{type:"button",onClick:function(){var e,t,a=JSON.parse(JSON.stringify(i)),r=!0;(u(!1),R.map((function(e){f(e)&&(r=!1),a[e].error=f(e)})),c(a),r)&&(v(!0),T.a.post("https://l94wc2001h.execute-api.ap-southeast-2.amazonaws.com/prod/fake-auth",{name:null===(e=i.name)||void 0===e?void 0:e.value.trim(),email:null===(t=i.email)||void 0===t?void 0:t.value.trim()}).then((function(e){n(),v(!1)})).catch((function(){u(!0),v(!1)})))},className:k.a.btn,loading:_,children:"Send"}),d&&Object(l.jsx)("p",{className:k.a.errorMessage,children:"Error message from server here."})]})]})};var U=function(e){var n=e.onClose;return Object(l.jsxs)("div",{className:k.a.successContentWrapper,"jest-id":"success-content",children:[Object(l.jsx)("h4",{className:k.a.modalTitle,children:"All done!"}),Object(l.jsx)("p",{className:k.a.summary,children:"You will be one of the first to experience Broccoli & Co. when we lunch"}),Object(l.jsx)(S,{className:k.a.btn,onClick:n,children:"OK"})]})},V={INVTIE_FORM:Symbol("INVTIE_FORM"),SUCCESS:Symbol("SUCCESS")};var D=function(e){var n=e.onClose,t=e.isModalOpen,r=Object(a.useState)(V.INVTIE_FORM),o=Object(b.a)(r,2),i=o[0],c=o[1];return Object(a.useEffect)((function(){t||c(V.INVTIE_FORM)}),[t]),Object(l.jsxs)("div",{className:k.a.invitationPopupContentWrapper,"jest-id":"popup-content",children:[i===V.INVTIE_FORM&&Object(l.jsx)(P,{isModalOpen:t,onSuccess:function(){c(V.SUCCESS)}}),i===V.SUCCESS&&Object(l.jsx)(U,{onClose:function(){n()}})]})};var q=function(){var e=Object(a.useState)(!1),n=Object(b.a)(e,2),t=n[0],r=n[1];return Object(l.jsxs)("div",{className:f.a.contentWrapper,children:[Object(l.jsx)("div",{className:f.a.wrapper,children:Object(l.jsxs)("div",{className:f.a.content,children:[Object(l.jsx)("h2",{className:f.a.heading,children:"A better way to enjoy every day"}),Object(l.jsx)("p",{className:f.a.summary,children:"Be the first to know when we lunch"}),Object(l.jsx)(S,{disabled:t,onClick:function(){r(!0)},"jest-id":"request-btn",children:"Request an invite"})]})}),t&&Object(l.jsx)(y,{actived:t,onClose:function(){r(!1)},children:Object(l.jsx)(D,{onClose:function(){r(!1)},isModalOpen:t})})]})};var z=function(){return Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(p,{}),Object(l.jsx)("main",{className:"app-content",children:Object(l.jsx)(q,{})}),Object(l.jsx)(_,{})]})};i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(z,{})}),document.getElementById("root"))},6:function(e,n,t){e.exports={loadingWrapper:"loading_loadingWrapper__3e5wI",loadingContent:"loading_loadingContent__ySgQm",fade:"loading_fade__2A4Dh",loadingContent2:"loading_loadingContent2__2u0vh",loadingContent3:"loading_loadingContent3__yDPL8"}},7:function(e,n,t){e.exports={contentWrapper:"invitation-content_contentWrapper__ENWr7",wrapper:"invitation-content_wrapper__2kECt",content:"invitation-content_content__Gj_OT",heading:"invitation-content_heading__1d3DB"}},8:function(e,n,t){e.exports={modalWrapper:"modal_modalWrapper__2sCk2",actived:"modal_actived__2pI7n",modalMask:"modal_modalMask__1h7aN",contentWrapper:"modal_contentWrapper__1ruIq",content:"modal_content__1KQLj"}}},[[51,1,2]]]);
//# sourceMappingURL=main.d1acbb02.chunk.js.map